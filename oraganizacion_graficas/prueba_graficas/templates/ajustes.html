{% extends "base.html" %}

{% block title %}Ajustes de Intervalo{% endblock %}
{% block header_title %}‚öôÔ∏è Configuraci√≥n de Intervalo{% endblock %}

{% block content %}
  <form action="/ajustes" method="POST">
    <label for="horas">Horas:</label>
    <select id="horas" name="horas">
      {% for h in range(0, 25) %}
        <option value="{{ h }}" {% if intervalo >= h * 3600 and intervalo < (h+1) * 3600 %} selected {% endif %}>{{ h }}</option>
      {% endfor %}
    </select>

    <label for="minutos">Minutos:</label>
    <select id="minutos" name="minutos">
      {% for m in range(0, 60) %}
        <option value="{{ m }}" {% if intervalo >= m * 60 and intervalo < (m+1) * 60 %} selected {% endif %}>{{ m }}</option>
      {% endfor %}
    </select>

    <label for="segundos">Segundos:</label>
    <select id="segundos" name="segundos">
      {% for s in range(0, 60) %}
        <option value="{{ s }}" {% if intervalo == s %} selected {% endif %}>{{ s }}</option>
      {% endfor %}
    </select>

    <button type="submit" style="margin-top: 1rem;">üíæ Guardar</button>
  </form>

  <p style="margin-top: 1.5rem;">
    <b>Intervalo actual:</b>
    {{ intervalo // 3600 }} h {{ (intervalo % 3600) // 60 }} m {{ intervalo % 60 }} s
  </p>
{% endblock %}

{% block extra_scripts %}
<script>
  const isDark = localStorage.getItem('dark-mode') === 'true';
  if (isDark) {
    document.body.classList.add('dark-mode');
  }
</script>
{% endblock %}
